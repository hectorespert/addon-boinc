#!/usr/bin/with-contenv bashio
# ==============================================================================
# Start the example service
# s6-overlay docs: https://github.com/just-containers/s6-overlay
# ==============================================================================

bashio::log.info "Starting boinc home assistant addon"

bashio::log.info "Creating boinc folders"
mkdir -p /addons/boinc
mkdir -p /addons/boinc/slots

bashio::log.info "Starting boinc client"

PROJECT="$(bashio::config 'project')"
KEY="$(bashio::config 'key')"

exec /usr/bin/boinc --dir /addons/boinc --attach_project "$PROJECT" "$KEY"